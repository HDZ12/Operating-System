# 概念
- 进程通信，进程间信息交换
	- 进程是资源分配的基本单位，各进程内存空间彼此独立
	- 一个进程不能随意访问其他进程的地址空间
- 特点：
	- 共享存储（Shared-Memory)
		- 共享数据结构：
			- 由用户控制，低级通信：可以传递少量数据，效率低
		- 共享存储区：
			- 由进程控制，高级通信，传递大量数据，效率高
	- 消息传递（Message - Passing)
		- 直接通信：点到点直接发送
			- 发送和接受时指明双方进程ID
			- 每个进程维护一个消息缓冲队列
		- 间接通信：广播信箱
			- 以信箱为媒介，作为中间实体
			- 发进程将消息发送到信箱。收进程冲信箱读取
			- 可以广播，容易建立双向通信链
	- 管道通信（Pipe）
		- 管道：
			- 用于连接读写/进程的共享文件，pipe文件
			- 本质时内存中固定大小的缓冲区
		- 半双工通信：
			- 同一时间段只能单向通信，双工通信需要两个管道
			- 以先进先出（FIFO）方式组织数据传输
			- 通过系统调用read()/write()进行读写操作
# Linux进程通信

- 低级通信
- 管道通信
- System V IPC：
  
  1，定义IPC对象，创建后返回一个唯一的IPC标志号。
  
  2，消息：进程之间传递分类的格式化数据
  
  3，不同进程共享彼此的虚拟空间，对共享区操作和数据通信。

- 传递进程间的控制信号
  
  文件锁
  
  软中断:
  
     实现同一用户的各进程之间的通信
  
     目的：通知对方发生了异步事件
  
      30个软中断信号，31个事实软中断信号32-36 

# 中断

- **硬中断：**  ==外部设备对CPU的中断==
- **软中断：**  ==硬中断服务程序对内核的中断，利用硬件中断的概念，用软件方式进行模拟，实现
宏观上的异步执行效果。== 
- **软中断信号（信号）：**
  
    ==由内核或其他进程对某个进程的中断==
  
   ==通知某进程发生了什么事，不发送任何数据==
  
  ==PCB中有一个软中断信号域，每一位对应一个信号
当有信号发送给进程，置位。==

# 信号的类型

- 与进程终止相关的信号
- 与进程例外事件相关的信号
- 与终端交互相关的信号
- 在用户状态下的进程发出的信号

![截图](a35e17fe7113fcc5be402619895c048c.png)

# 进程间消息共享方式

- **管道通信：**共享位于文件系统中某个文件，穿越内核
- **消息通信：**共享驻留于内核中的信息
- **共享内存：**不涉及内核

# 消息缓冲机制

- 多个进程访问一个公共的信息队列
  
  消息队列：内核地址空间的链表
任何进程都可以发送消息（消息类型及正文）
其它进程都可以从中根据类型获取相应的消息

- 基本过程：
  
  创建消息队列
根据消息类型收/发消息
删除消息队列

# 共享内存

- 同一系统中的几个进程共享某块物理内存
- 使用互斥和同步机制
- 最有用的，最快的IPC形式
- 应用接口和原理非常简单，内部机制复杂
- 基本过程：
  
  创建将被共享的内存空间（确定大小）
将该空间映射到本进程中
进行正常的读写操作
解除映射
删除被共享的内存空间

# 内存通信的特点

Linux中最快速的IPC方法。
一个双向过程，共享区域内的任何进程都可以
读写内存。

翻译
